import{K as F,a as E,r as s,j as a,P as A,h as B,L as x,A as p,l as P,n as L,o as N,p as k,q as S,s as t,t as z,Q as O,f as q}from"./index-DLcGPbaO.js";import{I as H}from"./IconEdit-CZzn1Q2S.js";function J(){const n=F(e=>e.user.userDetail),g=E(),[d,f]=s.useState([]),[r,o]=s.useState(1),[K,v]=s.useState(""),[u,j]=s.useState(10),[C,b]=s.useState(0),[y,Q]=s.useState(!1);s.useState([]),s.useState(0),s.useState(5);const[l,T]=s.useState({name:"",email:"",role:""}),h=e=>{const{name:i,value:c}=e.target;T({...l,[i]:c})},D=async()=>{try{const e=await q.get("/field",{params:{limit:u,page:r,vendorID:n.role==="vendor"?n.vendorID.id:"",deleteAt:null},headers:{}});f(e.data.result.results),o(e.data.result.page),j(e.data.result.limit),v(e.data.result.totalPages),b(e.data.result.totalResults)}catch(e){console.log(e)}},I=(e,i)=>{o(i+1)},R=e=>{j(parseInt(e.target.value,10)),o(1)};return s.useEffect(()=>{D()},[r,u,y]),a.jsxs(A,{children:[a.jsxs(B,{display:"flex",justifyContent:"flex-start",gap:5,p:2,children:[a.jsx(x,{label:"Search by Name",name:"name",value:l.name,onChange:h}),a.jsx(x,{label:"Search by Email",name:"email",value:l.email,onChange:h}),a.jsx(x,{label:"Search by Role",name:"role",value:l.role,onChange:h}),a.jsx(p,{children:a.jsx(P,{size:"large",variant:"contained",color:"secondary",children:"Search"})}),n.role==="vendor"||n.role==="admin"?a.jsx(p,{children:a.jsx(P,{onClick:()=>g("/createField"),size:"large",variant:"contained",color:"secondary",children:"Add Field"})}):null]}),a.jsx(L,{children:a.jsxs(N,{children:[a.jsx(k,{children:a.jsxs(S,{children:[a.jsx(t,{children:"Name"}),a.jsx(t,{children:"Description"}),a.jsx(t,{children:"Sport Type"}),a.jsx(t,{children:"Situated In"}),a.jsx(t,{children:"Price"}),a.jsx(t,{children:"Options"})]})}),a.jsx(z,{children:d==null?void 0:d.map((e,i)=>{var c,m;return a.jsxs(S,{children:[a.jsx(t,{children:e==null?void 0:e.name}),a.jsx(t,{children:e==null?void 0:e.description}),a.jsx(t,{children:(c=e==null?void 0:e.sportTypeID)==null?void 0:c.name}),a.jsx(t,{children:(m=e==null?void 0:e.locationID)==null?void 0:m.name}),a.jsx(t,{children:e==null?void 0:e.price}),a.jsx(t,{children:a.jsx(H,{onClick:()=>g(`/updateField?fieldID=${e==null?void 0:e.id}`,{state:{id:e==null?void 0:e.id}})})})]},e.index)})})]})}),a.jsx(O,{component:"div",count:C,defaultpage:1,page:r-1,onPageChange:I,rowsPerPage:u,onRowsPerPageChange:R})]})}export{J as default};
