import{a as B,K as F,r as n,j as a,P as L,h as z,L as g,A,l as O,n as V,o as q,p as H,q as P,s,t as K,Q,f as U}from"./index-DLcGPbaO.js";import{I as G}from"./IconEdit-CZzn1Q2S.js";function Y(){const p=B(),S=F(e=>e.user.userDetail),[C,f]=n.useState([]),[u,o]=n.useState(1),[J,b]=n.useState(""),[h,m]=n.useState(10),[y,D]=n.useState(0),[I,M]=n.useState(!1);n.useState([]),n.useState(0),n.useState(5);const[r,T]=n.useState({name:"",email:"",role:""}),x=e=>{const{name:l,value:c}=e.target;T({...r,[l]:c})},N=async()=>{var e,l,c,i,d;try{const t=await U.get("user",{params:{limit:h,page:u,role:"vendor"},headers:{}});console.log(t.data.result,"<===="),f((e=t==null?void 0:t.data)==null?void 0:e.result.results),o((l=t==null?void 0:t.data)==null?void 0:l.result.page),m((c=t==null?void 0:t.data)==null?void 0:c.result.limit),b((i=t==null?void 0:t.data)==null?void 0:i.result.totalPages),D((d=t==null?void 0:t.data)==null?void 0:d.result.totalResults)}catch(t){console.log(t)}},R=(e,l)=>{o(l+1)},E=e=>{m(parseInt(e.target.value,10)),o(1)};n.useEffect(()=>{N()},[u,h,I]);const k={active:"green",inactive:"red",pending:"orange",suspeneded:"grey"};return a.jsxs(L,{children:[a.jsxs(z,{display:"flex",justifyContent:"flex-start",gap:5,p:2,children:[a.jsx(g,{label:"Search by Name",name:"Company Name",value:r.name,onChange:x}),a.jsx(g,{label:"Search by Email",name:"email",value:r.email,onChange:x}),a.jsx(g,{label:"Search by Role",name:"role",value:r.role,onChange:x}),a.jsx(A,{children:a.jsx(O,{size:"large",variant:"contained",color:"secondary",children:"Search"})})]}),a.jsx(V,{children:a.jsxs(q,{children:[a.jsx(H,{children:a.jsxs(P,{children:[a.jsx(s,{children:"Company Name"}),a.jsx(s,{children:"User Name"}),a.jsx(s,{children:"Email"}),a.jsx(s,{children:"Phone Number"}),a.jsx(s,{children:"Slogan"}),a.jsx(s,{children:"Selected Package"}),a.jsx(s,{children:"Status"}),a.jsx(s,{children:"Options"})]})}),a.jsx(K,{children:C.map((e,l)=>{var c,i,d,t,j,v;return a.jsxs(P,{children:[a.jsx(s,{children:(c=e.vendorID)==null?void 0:c.companyName}),a.jsx(s,{children:e.firstName+" "+e.lastName}),a.jsx(s,{children:e==null?void 0:e.email}),a.jsx(s,{children:(i=e==null?void 0:e.vendorID)==null?void 0:i.companyPhoneNumber}),a.jsx(s,{children:e==null?void 0:e.vendorID.slogan}),a.jsx(s,{children:(e==null?void 0:e.vendorID.vendorPackageID)!==null?(t=(d=e.vendorID)==null?void 0:d.vendorPackageID)==null?void 0:t.name:"none"}),a.jsx(s,{children:e==null?void 0:e.vendorID.status}),a.jsx(s,{style:{textTransform:"capitalize",color:k[(j=e==null?void 0:e.vendorID)==null?void 0:j.status]},children:(v=e==null?void 0:e.vendorID)==null?void 0:v.status}),a.jsx(s,{children:S.role==="admin"?a.jsx(G,{onClick:()=>p("/updateVendor",{state:{data:e}})}):null})]},e.index)})})]})}),a.jsx(Q,{component:"div",count:y,defaultpage:1,page:u-1,onPageChange:R,rowsPerPage:h,onRowsPerPageChange:E})]})}export{Y as default};
