import{K as I,a as L,r as t,j as a,P as B,h as E,L as u,A as j,l as m,n as O,o as A,p as N,q as p,s,t as k,Q as F,f as z}from"./index-DLcGPbaO.js";import{I as q}from"./IconEdit-CZzn1Q2S.js";function $(){const n=I(e=>e.user.userDetail),x=L(),[C,v]=t.useState([]),[d,o]=t.useState(1),[H,P]=t.useState(""),[r,g]=t.useState(10),[S,f]=t.useState(0),[y,K]=t.useState(!1);t.useState([]),t.useState(0),t.useState(5);const[l,T]=t.useState({name:"",email:"",role:""}),h=e=>{const{name:i,value:c}=e.target;T({...l,[i]:c})},b=async()=>{try{const e=await z.get("location",{params:{limit:r,page:d,vendorID:n.role==="vendor"?n.vendorID.id:""},headers:{}});console.log(e.data.result,"<===="),v(e.data.result.results),o(e.data.result.page),g(e.data.result.limit),P(e.data.result.totalPages),f(e.data.result.totalResults)}catch(e){console.log(e)}},R=(e,i)=>{o(i+1)},D=e=>{g(parseInt(e.target.value,10)),o(1)};return t.useEffect(()=>{b()},[d,r,y]),a.jsxs(B,{children:[a.jsxs(E,{onClick:()=>{console.log(n)},display:"flex",justifyContent:"flex-start",gap:5,p:2,children:[a.jsx(u,{label:"Search by Name",name:"name",value:l.name,onChange:h}),a.jsx(u,{label:"Search by Email",name:"email",value:l.email,onChange:h}),a.jsx(u,{label:"Search by Role",name:"role",value:l.role,onChange:h}),a.jsx(j,{children:a.jsx(m,{sx:{height:"50px"},size:"large",variant:"contained",color:"secondary",children:"Search"})}),n.role==="vendor"||n.role==="admin"?a.jsx(j,{children:a.jsx(m,{onClick:()=>x("/createLocation"),sx:{height:"50px"},size:"large",variant:"contained",color:"secondary",children:"Add Venue"})}):null]}),a.jsx(O,{children:a.jsxs(A,{children:[a.jsx(N,{children:a.jsxs(p,{children:[a.jsx(s,{children:"Name"}),a.jsx(s,{children:"Description"}),a.jsx(s,{children:"Address"}),a.jsx(s,{children:"City"}),a.jsx(s,{children:"Opening Time"}),a.jsx(s,{children:"Closing Time"}),a.jsx(s,{children:"Owned By"}),a.jsx(s,{children:"Options"})]})}),a.jsx(k,{children:C.map((e,i)=>{var c;return a.jsxs(p,{children:[a.jsx(s,{children:e==null?void 0:e.name}),a.jsx(s,{children:e==null?void 0:e.description}),a.jsx(s,{children:e==null?void 0:e.addressLineOne}),a.jsx(s,{children:e==null?void 0:e.city}),a.jsx(s,{children:e==null?void 0:e.openingTime}),a.jsx(s,{children:e==null?void 0:e.closingTime}),a.jsx(s,{children:(c=e==null?void 0:e.vendorID)==null?void 0:c.companyName}),a.jsx(s,{children:a.jsx(q,{onClick:()=>x(`/updateLocation?locationID=${e==null?void 0:e.id}`,{state:{id:e==null?void 0:e.id}})})})]},e.index)})})]})}),a.jsx(F,{component:"div",count:S,defaultpage:1,page:d-1,onPageChange:R,rowsPerPage:r,onRowsPerPageChange:D})]})}export{$ as default};
