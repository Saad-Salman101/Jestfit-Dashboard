import{K as B,a as D,r as t,j as a,P as A,h as E,L as F,A as u,l as g,n as L,o as N,p as z,q as h,s as n,t as k,Q as q,f as H}from"./index-DLcGPbaO.js";function Q(){const c=B(e=>e.user.userDetail),x=D(),[p,j]=t.useState([]),[l,r]=t.useState(1),[I,m]=t.useState(""),[o,i]=t.useState(10),[P,S]=t.useState(0),[T,K]=t.useState(!1);t.useState([]),t.useState(0),t.useState(5);const[d,f]=t.useState({name:"",email:"",role:""}),C=e=>{const{name:s,value:R}=e.target;f({...d,[s]:R})},y=async()=>{try{const e=await H.get("/sportType",{params:{limit:o,page:l},headers:{}});console.log(e.data.result,"<===="),j(e.data.result.results),r(e.data.result.page),i(e.data.result.limit),m(e.data.result.totalPages),S(e.data.result.totalResults)}catch(e){console.log(e)}},v=(e,s)=>{r(s+1)},b=e=>{i(parseInt(e.target.value,10)),r(1)};return t.useEffect(()=>{y()},[l,o,T]),a.jsxs(A,{children:[a.jsxs(E,{display:"flex",justifyContent:"flex-start",gap:5,p:2,children:[a.jsx(F,{label:"Search by Name",name:"name",value:d.name,onChange:C}),a.jsx(u,{children:a.jsx(g,{size:"large",variant:"contained",color:"secondary",children:"Search"})}),c.role==="vendor"||c.role==="admin"?a.jsx(u,{children:a.jsx(g,{onClick:()=>x("/CreateSportType"),size:"large",variant:"contained",color:"secondary",children:"Add Sports Type"})}):null]}),a.jsx(L,{children:a.jsxs(N,{children:[a.jsx(z,{children:a.jsxs(h,{children:[a.jsx(n,{children:"Name"}),a.jsx(n,{children:"Description"})]})}),a.jsx(k,{children:p.map((e,s)=>a.jsxs(h,{children:[a.jsx(n,{children:e==null?void 0:e.name}),a.jsx(n,{children:e==null?void 0:e.description})]},e.index))})]})}),a.jsx(q,{component:"div",count:P,defaultpage:1,page:l-1,onPageChange:v,rowsPerPage:o,onRowsPerPageChange:b})]})}export{Q as default};
